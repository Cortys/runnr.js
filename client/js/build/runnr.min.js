angular.module("runnr.js",["core","top","panes","themes"]),angular.module("core",[]),angular.module("panes",["core"]),angular.module("themes",[]),angular.module("top",["core"]),function(){function a(a){var b=this;b.title="",a.getTheme().then(function(a){b.theme=a})}angular.module("core").controller("MetaController",a),a.$inject=["themes.theme"]}(),function(){function a(){return{create:function(a,c,d){return new b(a,c,d)},check:function(a){return a instanceof b}}}function b(a,b,c){this.receiver=a,this.event=b,this.data=c}angular.module("core").factory("messageFactory",a),a.$inject=[]}(),function(){function a(a){function b(a){this.name=a.toString()}var c={},d={};return b.prototype={name:null,listeners:{},send:function(b,e,f,g){var h,i,j=a.check(b)&&b||a.create(b,e,f),k=c[b]||[];return g=(void 0===g?1:g)-k.length,k.forEach(function(a){a.receive(j)}),g>0&&((h=d[b])||(d[b]=h={}),(i=h[e])||(h[e]=i=[]),i.push({message:j,deliveriesLeft:g})),this},on:function(a,b){var c,e,f,g=this;return"function"==typeof b&&(g.listeners[a]=b,(c=d[this.name])&&(e=c[a])&&(f=!0,e.forEach(function(a,b){g.receive(a.message),--a.deliveriesLeft<=0?delete e[b]:f=!1}),f&&delete c[a])),this},receive:function(b){var c;a.check(b)&&b.receiver==this.name&&"function"==typeof(c=this.listeners[b.event])&&c(b.event,b.data)}},{register:function(a){var d=new b(a),e=c[d.name];return e?e.push(d):c[d.name]=[d],d}}}angular.module("core").factory("messages",a),a.$inject=["messageFactory"]}(),function(){function a(a,b){this.messageMan=b.register("panes.PanesController").on("goto",function(a,b){console.log(a,b)})}angular.module("panes").controller("panes.PanesController",a),a.$inject=["$scope","messages"],a.prototype={}}(),function(){function a(a,b,c){return{restrict:"A",scope:{preloadDelay:"@preloadThemeLinkingDelay"},compile:function(){var d=a.defer(),e=a.defer();return c.addRenderingPromise(a.all([d.promise,e.promise])),{pre:function(a){b(function(){e.resolve()},1*a.preloadDelay)},post:function(){d.resolve()}}}}}angular.module("themes").directive("preloadThemeLinkingDelay",a),a.$inject=["$q","$timeout","themes.theme"]}(),function(){function a(a){return{restrict:"A",scope:{},link:function(b,c){a.rendered().then(function(){b.$destroy()}),b.$on("$destroy",function(){c.remove()})}}}angular.module("themes").directive("showOnThemePreload",a),a.$inject=["themes.theme"]}(),function(){function a(a,b,c){return{restrict:"E",scope:{},link:function(d,e,f){if(!f.ngInclude){var g=b.defer();c.addRenderingPromise(g.promise),c.getTheme().then(function(b){e.attr("ng-include","'theme/"+(d.$eval(f.src)||b.html+".html")+"'"),e.removeAttr("src"),a(e)(d)}),d.$on("$includeContentLoaded",g.resolve),d.$on("$includeContentError",g.reject)}}}}angular.module("themes").directive("themeInclude",a),a.$inject=["$compile","$q","themes.theme"]}(),function(){function a(a,b,c){return{restrict:"A",transclude:"element",link:function(a,b){c.getTheme().then(function(a){var c=angular.element(document.createElement("link"));c.attr("rel","stylesheet"),c.attr("type","text/css"),a.css.forEach(function(a){c.attr("href","theme/"+a.file+".css"),c.attr("media",a.media||void 0),b.after(c),c=c.clone()})})}}}angular.module("themes").directive("themeLink",a),a.$inject=["$compile","$q","themes.theme"]}(),function(){function a(a,b){var c={getTheme:function(){return d},rendered:function(){return e.promise},addRenderingPromise:function(a){f++,a.then(function(){--f<=0&&e.resolve()},function(){e.reject()})}},d=a.get("/theme/manifest",{responseType:"json"}).then(function(a){return a.data}),e=b.defer(),f=0;return c.addRenderingPromise(d),c}angular.module("themes").factory("themes.theme",a),a.$inject=["$http","$q"]}(),function(){function a(){}angular.module("top").controller("top.ActionController",a),a.prototype={actions:[{name:"messages",clicked:function(){}},{name:"settings",clicked:function(){}}]}}(),function(){function a(a){this.messageMan=a.register("top.MenuController"),this.activateItem(this.items[1])}angular.module("top").controller("top.MenuController",a),a.$inject=["messages"],a.prototype={items:[{name:"runners",text:"Runners"},{name:"plugins",text:"Plugins"}],activeItem:null,activateItem:function(a){this.activeItem=a,this.messageMan.send("panes.PanesController","goto",a.name)}}}();